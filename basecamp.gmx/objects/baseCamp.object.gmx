<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>baseCampSprite</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Base Camp Configs
/*    
    globalvar status
        Status is the condition your base camp is in.
        Other survivors will join your community if status is in 'ok' conditions.
        status conditions: 
            0 - safe
            1 - under attack
            2 - starving
            3 - no more beds
            4 - too many wounded
    
    globalvar structureCount
        Total # of structures allowed at your base camp.
        Increase the allowed amount by expanding your base camps property.
            
    availableSlots
        Total # of survivors allowed at your base camp.
        Increase the allowed amount by upgrading your base camp. 
    
    structureLevel
        Upgrade level of your base camp.
        This will put limitations on other upgradable structures and limit property size.
  
*/
globalvar status;
status = 0;
globalvar structureCount;
structureCount = 4;

availableSlots = 2;
structureLevel = 1;
upgradeCost = 100;
buildingHealth = 300;
buildingCost = 'N/A';
type = "Structure";





/*
    globalvar food
        Total # of food at your base camp.
        Increase the cap amount by upgrading your base camps food cache.
        
    globalvar meds
        Total # of meds at your base camp.
        Increase the cap amount by upgrading your base camps med cache.
        
    globalvar weapons
        Total # of weapons at your base camp.
        Increase the cap amount by upgrading your base camps weapons cache.
        
    globalvar buildingMaterials 
        Total # of buildingMaterials at your base camp.
        Increase the cap amount by upgrading your base camps building materials cache.
    
    globalvar foodCap
    globalvar medsCap
    globalvar weaponsCap
    globalvar buildingMaterialsCap
    
    Caps are set to not allow stashing extra resources and keeping things interesting.
    Player will be able to upgrade base camps cache limits of each of the 4 categories.
    Amounts available will be incremented/decremented throughout game as survivors 
    will consume food, meds, building materials, beds in base camp, and weapons.
    
*/

globalvar food;
food = 100;

globalvar foodCap;
foodCap = 1000;

globalvar meds;
meds = 20;

globalvar medsCap;
medcap = 100;

globalvar weapons;
weapons = 5;

globalvar weaponsCap;
weaponsCap = 10;

globalvar buildingMaterials;
buildingMaterials = 0;

globalvar buildingMaterialsCap;
buildingMaterialsCap = 100;

globalvar gatheredFood;
gatheredFood = 0;
globalvar gatheredMeds;
gatheredMeds = 0;
globalvar gatheredWeapons;
gatheredWeapons = 0;
globalvar gatheredMaterials;
gatheredMaterials = 0;
/*
    globalvar cts
        
        cts = 18000. Every 5 minutes callout to other survivors.
        
        Calls out to nearby survivors to join your base camp when cts reaches 0;
        
        cts pauses or restarts on status changes
            switch(status){
                case safe:
                    cts --;
                    break;
                case under_attack:
                    pause cts countdown;
                    break;
                case starving:
                    restart cts countdown;
                    break;
                case no_beds:
                    pause cts countdown;
                    break;
                case wounded:
                    restart cts countdown
                    break;
            }
            
    
*/

globalvar cts;
cts = 18000;
globalvar pausedCts;
pausedCts = 0;
/// For update menu
update = false;

instance_create(room_width /2 + 150, room_height/2 + 50, survivor);
instance_create(room_width /2 - 150, room_height/2 + 50, survivor);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Game Flow

/*
    globalvar status
    globalvar structureCount
    globalvar foodCap
    globalvar medsCap
    globalvar weaponsCap
    globalvar buildingMaterialsCap
    globalvar food
    globalvar meds
    globalvar weapons
    globalvar buildingMaterials
    
    initial values
        availableSlots = 4;
        structureLevel = 1;
        buildingCost = 50;
        upgradeCost = 100;
        buildingHealth = 200;
              
*/

if(buildingHealth &lt;= 0){
    // Game over event
    room_restart();
}else{
    // Game play.
    if(instance_exists(zombie))
        status = 2;
    
    
    if(pausedCts == 0 &amp;&amp; status == 0)
        cts--;
        
    switch(status){
        case 1: 
            pausedCts = 0;
            break;
        case 2:
        case 3:
        case 4:
            pausedCts = cts;
            break;
    }
    if(cts &lt;= 0 &amp;&amp; pausedCts == 0){
        if(availableSlots &gt; instance_number(survivor)){
            cts = 18000;
            instance_create(room_width/2 - 150, room_height/2 + 50, survivor);
        }else{
            show_debug_message(string(cts));
            pausedCts = cts;
        }
    }
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(update)
    update = false;
else
    update = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
if(update)
    upgrade(self);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
